function tp_map_osm(a){if(0<a.length){let c=L.noConflict(),d={attribution:"&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors"},e=L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",d),f=L.tileLayer("https://{s}.tile.openstreetmap.de/tiles/osmde/{z}/{x}/{y}.png",d),g=L.tileLayer("https://tile.osm.ch/switzerland/{z}/{x}/{y}.png",d),h=L.tileLayer("https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",d),i=L.tileLayer("https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",d);var b={RemovePoint:[],OSM_Mark:[],OSM_PointName:{},OSM_JSOnCode:[],OSM_Polyline:{}};let j=a[0]&&a[0].dataset&&a[0].dataset.osmmapdata?JSON.parse(a[0].dataset.osmmapdata):[],k=j&&j.widgetId?j.widgetId:"",l=j&&j.MapView?j.MapView.split(","):["22.6","86.0"],m=j&&+j.OSM_ZoomLevel?+j.OSM_ZoomLevel:1,n=j&&j.OSM_collapsed?1:0,o=j&&j.OSM_control?j.OSM_control:[],p=j&&j.OSM_PolylineCr?j.OSM_PolylineCr:"#000000",q=j&&j.OSM_repeater?j.OSM_repeater:[],r=j&&j.OSM_Def_TileLayer?j.OSM_Def_TileLayer:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png";L.DomUtil.get(k)!==void 0&&L.DomUtil.get(k)&&(L.DomUtil.get(k)._leaflet_id=null),0<q.length&&q.forEach(function(a){let c="",d=a&&a.OSM_PointType?a.OSM_PointType:"",e=a&&a.OSM_PopupType?a.OSM_PopupType:"",f=a&&a.OSM_latitude?a.OSM_latitude.split(","):"",g=a&&a.OSM_Name?a.OSM_Name:"",h=a&&a.OSM_Massage?a.OSM_Massage:"",i=a&&a.OSM_MarkON?a.OSM_MarkON:"",j=a&&a.Osm_iconSize?a.Osm_iconSize.split(","):[22,22],k=a&&a.Osm_PTAnchor?a.Osm_PTAnchor.split(","):[0,0],l=a&&a.Osm_Polyline?1:0,m=a&&a.Osm_PolylineCon?a.Osm_PolylineCon:"one",n=k.map(function(a){return parseInt(a)}),o=L.icon({iconUrl:a.OSM_ImgSelect,popupAnchor:n,tooltipAnchor:n,iconSize:j});if("marker"==d){c="popup"==e?L.marker(f,{closeOnClick:!1,autoClose:!1,closeOnEscapeKey:!1,icon:o}).bindPopup(h):"tooltip"==e?L.marker(f,{draggable:!0,icon:o}).bindTooltip(h):L.marker(f,{draggable:!0,icon:o})}else if("circle"==d){let a=L.circle(f,{OSM_circle:{color:"red",fillColor:"#f03",fillOpacity:.5,radius:500,className:"tp-osm-circle"}});c="popup"==e?a.bindPopup(h):"tooltip"==e?a.bindTooltip(h):a}else if("geoJSON"==d){let c="",d=a&&a.OSM_GeoJsonCode?JSON.parse(a.OSM_GeoJsonCode):"";c="popup"==e?L.geoJSON(d,{onEachFeature:function(a,b){b.bindPopup(a.properties.name)}}):"tooltip"==e?L.geoJSON(d,{onEachFeature:function(a,b){b.bindTooltip(a.properties.name)}}):L.geoJSON(d,{onEachFeature:function(a,b){}}),b.OSM_JSOnCode.push(c)}("marker"==d||"circle"==d)&&(l&&(b.OSM_Polyline&&b.OSM_Polyline[m]==null&&(b.OSM_Polyline[m]=[]),b.OSM_Polyline[m].push(f)),b.OSM_Mark.push(c),b.OSM_PointName[g]=c,0==i&&b.RemovePoint.push(c))});let s=L.layerGroup(b.OSM_Mark),t={center:l,zoom:m,closePopupOnClick:!1,attributionControl:!0,layers:[L.tileLayer(r,d),s]};o.includes("zoomControl")||(t.zoomControl=!1),o.includes("scrollWheelZoom")||(t.scrollWheelZoom=!1),o.includes("doubleClickZoom")||(t.doubleClickZoom=!1),o.includes("mapdragging")||(t.dragging=!1);let u=L.map(k,t);L.control.layers({OSM:e,"OSM.de":f,"OSM.ch":g,"OSM.Fr":h,"OSM.Fr":i},b.OSM_PointName,{collapsed:n}).addTo(u),o.includes("Scalecontrol")&&L.control.scale({maxWidth:100,imperial:!0,metric:!0}).addTo(u),b.OSM_Polyline&&Object.entries(b.OSM_Polyline).forEach(function(a){L.polyline(a[1],{color:p}).addTo(u)}),0<b.RemovePoint.length&&b.RemovePoint.forEach(function(a){u.removeLayer(a)}),0<b.OSM_JSOnCode.length&&b.OSM_JSOnCode.forEach(function(a){a.addTo(u)})}}