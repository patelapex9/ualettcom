function tp_woo_compare_button_change(a,b,c){var d=a[0].dataset.wid;let f="",g="",h="",i=[],j=JSON.parse(localStorage.getItem(d));b.length&&("tp_wc_button"==c.type||"tp_wc_count"==c.type)&&(f=c.alreadytext,g=c.removetext,h=c.addtext),"undefined"!=typeof j&&null!=j&&(i=j),Array.prototype.unique=function(){return this.filter(function(a,b,c){return c.indexOf(a)===b})},a[0].querySelectorAll(".tp_compare_button").forEach(a=>{var b=JSON.parse(a.getAttribute("data-product")),c=JSON.parse(a.getAttribute("data-compare"));if(b=b.toString(),tp_wc_in_list(b,i))if(a.classList.add("tp-wc-active"),a.setAttribute("title",f),a.classList.remove("tp_compare_button"),a.classList.add("tp_woo_compare_remove"),a.textContent=g,"tp_wc_text"===c.btn_type){a.textContent="";var e=document.createElement("button");e.className="tp_compare_addr";var h=document.createElement("span");h.className="tp_compare_extra",h.textContent=c.removetext,h.style.opacity="1",e.appendChild(h),a.appendChild(e)}else if("tp_wc_icon"===c.btn_type){var j=a.querySelectorAll(".tp_compare_addr");j.forEach(function(a){a.remove()}),a.textContent="";var k=document.createElement("button");k.className="tp_compare_addrs";var l=document.createElement("span");l.style.opacity="1";var m=document.createElement("i");m.className="tp_icon_rm "+c.addicon,l.appendChild(m),k.appendChild(l),a.appendChild(k)}else if("tp_wc_texti"===c.btn_type){a.textContent="";var n=document.createElement("button");n.className="tp_compare_addr";var o=document.createElement("span");o.className="tp_compare_extra",o.textContent=c.removetext;var p=document.createElement("i");p.className="tp_icon_rm "+c.addicon;var q=document.createElement("span");q.style.opacity="1",q.appendChild(p),n.appendChild(o),n.appendChild(q),a.appendChild(n)}a.addEventListener("click",function(h){if(h.preventDefault(),!a.classList.contains("tp-wc-active")&&!a.classList.contains("tp-wc-loading")){if(a.classList.add("tp-wc-loading"),i=JSON.parse(localStorage.getItem(d)),null===i&&(i=[]),i.push(b),i=i.unique(),localStorage.setItem(d,JSON.stringify(i)),a.classList.remove("tp-wc-loading"),a.classList.add("tp-wc-active"),a.classList.add("tp_woo_compare_remove"),a.classList.remove("tp_compare_button"),a.setAttribute("title",f),a.textContent=g,tp_woo_compare_count_change(d),"tp_wc_text"===c.btn_type){a.textContent="";var e=document.createElement("button");e.className="tp_compare_addrs";var j=document.createElement("span");j.className="tp_compare_extra";var k=document.createElement("span");k.style.opacity="0",k.textContent=c.addtext;var l=document.createElement("div");l.className="tp-wc-button-loading",j.appendChild(k),e.appendChild(j),e.appendChild(l),a.appendChild(e),setTimeout(function(){a.textContent="";var b=document.createElement("button");b.className="tp_compare_addrs";var d=document.createElement("span");d.className="tp_compare_extra";var e=document.createElement("span");e.style.opacity="1",e.textContent=c.removetext,d.appendChild(e),b.appendChild(d),a.appendChild(b)},500)}else if("tp_wc_texti"===c.btn_type){a.textContent="";var m=document.createElement("button");m.className="tp_compare_addr";var j=document.createElement("span");j.className="tp_compare_extra",j.textContent=c.addtext;var k=document.createElement("span");k.style.opacity="0";var n=document.createElement("i");n.className="tp_icon_rm "+c.removeicon;var l=document.createElement("div");l.className="tp-wc-button-loading",l.style.left="auto",k.appendChild(n),m.appendChild(j),m.appendChild(k),m.appendChild(l),a.appendChild(m),setTimeout(function(){a.textContent="";var b=document.createElement("button");b.className="tp_compare_addr";var d=document.createElement("span");d.className="tp_compare_extra",d.textContent=c.removetext;var e=document.createElement("span");e.style.opacity="1";var f=document.createElement("i");f.className="tp_icon_rm "+c.addicon,e.appendChild(f),b.appendChild(d),b.appendChild(e),a.appendChild(b)},500)}else if("tp_wc_icon"===c.btn_type){a.textContent="";var o=document.createElement("button");o.className="tp_compare_addrs";var p=document.createElement("span");p.style.opacity="0";var q=document.createElement("i");q.className="tp_icon_rm "+c.removeicon;var l=document.createElement("div");l.className="tp-wc-button-loading",p.appendChild(q),o.appendChild(p),o.appendChild(l),a.appendChild(o),setTimeout(function(){a.textContent="";var b=document.createElement("button");b.className="tp_compare_addrs";var d=document.createElement("span");d.style.opacity="1";var e=document.createElement("i");e.className="tp_icon_rm "+c.addicon,d.appendChild(e),b.appendChild(d),a.appendChild(b)},500)}h.stopImmediatePropagation()}})})}function tp_woo_compare_button_remove(a,b,c){var d=b[0].dataset.wid;inComparelist=c.alreadytext,removeComparelist=c.removetext,addComparelist=c.addtext;var f=a[0].querySelector(".tp-woo-compare.tp_wc_button > a");f&&f.addEventListener("click",function(a){if(f.classList.contains("tp_woo_compare_remove")){a.preventDefault();var b=JSON.parse(this.getAttribute("data-product")),c=JSON.parse(this.getAttribute("data-compare"));b=b.toString();JSON.parse(b);if(this.classList.remove("tp-wc-active"),this.setAttribute("title",addComparelist),this.textContent=addComparelist,this.classList.add("tp_compare_button"),this.classList.remove("tp_woo_compare_remove"),!this.classList.contains("tp-wc-active")&&!this.classList.contains("tp-wc-loading")){this.classList.add("tp-wc-loading");var e=JSON.parse(localStorage.getItem(d)),g=jQuery.grep(e,function(a){return a!=b});if(localStorage.setItem(d,JSON.stringify(g)),this.classList.remove("tp-wc-loading"),this.classList.add("tp_compare_button"),this.classList.remove("tp_woo_compare_remove"),this.setAttribute("title",removeComparelist),this.textContent=addComparelist,tp_woo_compare_count_change(d),this.classList.remove("tp-wc-button-loading"),"tp_wc_text"===c.btn_type){var h=this;this.textContent="";var i=document.createElement("button");i.className="tp_compare_addrs";var j=document.createElement("span");j.className="tp_compare_extra";var k=document.createElement("span");k.style.opacity="0",k.textContent=c.removetext;var l=document.createElement("div");l.className="tp-wc-button-loading",j.appendChild(k),i.appendChild(j),i.appendChild(l),this.appendChild(i),setTimeout(function(){h.textContent="";var a=document.createElement("button");a.className="tp_compare_addrs";var b=document.createElement("span");b.className="tp_compare_extra";var d=document.createElement("span");d.style.opacity="1",d.textContent=c.addtext,b.appendChild(d),a.appendChild(b),h.appendChild(a)},500)}else if("tp_wc_icon"==c.btn_type){var h=this;this.textContent="";var i=document.createElement("button");i.className="tp_compare_addrs";var m=document.createElement("span");m.style.opacity="0";var n=document.createElement("i");n.className="tp_icon_rm "+c.addicon;var l=document.createElement("div");l.className="tp-wc-button-loading",m.appendChild(n),i.appendChild(m),i.appendChild(l),this.appendChild(i),setTimeout(function(){h.textContent="";var a=document.createElement("button");a.className="tp_compare_addrs";var b=document.createElement("span");b.style.opacity="1";var d=document.createElement("i");d.className="tp_icon_rm "+c.removeicon,b.appendChild(d),a.appendChild(b),h.appendChild(a)},500)}else if("tp_wc_texti"==c.btn_type){var h=this;this.textContent="";var i=document.createElement("button");i.className="tp_compare_addr";var j=document.createElement("span");j.className="tp_compare_extra",j.textContent=c.removetext;var k=document.createElement("span");k.style.opacity="0";var n=document.createElement("i");n.className="tp_icon_rm "+c.addicon;var l=document.createElement("div");l.className="tp-wc-button-loading",l.style.left="auto",k.appendChild(n),i.appendChild(j),i.appendChild(k),i.appendChild(l),this.appendChild(i),setTimeout(function(){h.textContent="";var a=document.createElement("button");a.className="tp_compare_addr";var b=document.createElement("span");b.className="tp_compare_extra",b.textContent=c.addtext;var d=document.createElement("span");d.style.opacity="1";var e=document.createElement("i");e.className="tp_icon_rm "+c.removeicon,d.appendChild(e),a.appendChild(b),a.appendChild(d),h.appendChild(a)},500)}}a.stopImmediatePropagation()}})}function tp_wc_in_list(a,b){return-1<b.indexOf(a)}function tp_woo_compare_count_change(a){var b=document.querySelectorAll(".tp-woo-compare-count");b.forEach(b=>{var c=b.closest(".tp-woo-compare").dataset.wid;if(a===c){var d=JSON.parse(localStorage.getItem(a));b.textContent=d.length}})}