function tp_woo_compare_get_list(a,b){var c=a[0].querySelectorAll(".tp-woo-compare-table-wrapper"),d="";"tp_wc_list"===b&&(d=c[0].dataset.loadtext);var e=[],f=!1;shopName=a[0].getAttribute("data-wid");var g=[],h=!1;if(localStorage.getItem(shopName)&&0!=JSON.parse(localStorage.getItem(shopName)).length&&(e=JSON.parse(localStorage.getItem(shopName)),f=!0),0<c.length){g=c[0].dataset.tptablewc;var i=c[0].dataset.query;h=!0}jQuery.ajax({type:"POST",url:theplus_ajax_url,data:{action:"tp_wc_ql_data_ajax",dataType:"json",status:"publish",getvaluebrowser:e,getvaluebrowsertype:h,getvaluefortable:g,getvaluefortabletype:h,bbc:i,security:theplus_nonce},beforeSend:function(){d&&(c[0].textContent=d)},success:function(d){var e=JSON.parse(d.htmljsonwcqvlist);0<c.length&&d.HtmlDataTableLength?(c[0].innerHTML="",null!=e.wcqvlist&&0!=e.wcqvlist.length?c[0].insertAdjacentHTML("afterbegin",d.HtmlDataTable):c[0].insertAdjacentHTML("afterbegin","You have no comparison lists.")):c[0]?c[0].innerHTML="<h3 class=\"theplus-posts-not-found\"> You have no comparison lists. </h3>":"","tp_wc_count"===b&&(tp_woo_compare_count_list(a,d,e),tp_woo_compare_popup_hide(a))},complete:function(){}})}function tp_woo_compare_table_remove(a,b){jQuery(a).on("click",".tp-wc-table-remove-item,.tp-wc-qlist-grid-remove",function(c){c.preventDefault();var d=this?.dataset?.product?this.dataset.product:"";if(d=d.toString(),d){var e=JSON.parse(localStorage.getItem(shopName)),f=jQuery.grep(e,function(a){return a!=d});if(localStorage.setItem(shopName,JSON.stringify(f)),"tp_wc_list"===b&&tp_woo_compare_get_list(a),"tp_wc_count"===b){var g=this.offsetParent;g.remove(),tp_compare_count_after_remove(shopName)}}})}